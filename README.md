# Hospital-pricing-system

A hospital pricing and billing system implemented in java.

### How it works:

A hospital has a set of diagnostic labs such as Biochemistry, Pathology, Virology etc. Each lab does different kinds of tests, and their internal processes are different. However, to simplify things, they share a common Reception, Billing and Dispatch divisions. Since Billing and Dispatch don’t need to know about the specific type of lab for their work, we
have modelled a base class Lab that has features and functionality common to all labs, and then specific sub-types such BioChemLab, PathLab, ViroLab etc.

While the tests done by the labs are different, they have some features in common:  
● a Patient ID (String) generated by Reception  
● a Test ID (String) generated by the individual labs  
● a Report (String) generated by the individual labs  
● a Price (int) computed by the individual lab  
Beyond this, each lab may have its own information for internal processing.

To model this, we have a base class `LabTest` that abstracts the above information. Sub-types of LabTest such as `PathTest`, `BioChemTest`, `VirologyTest`, etc, are all derived from `LabTest`. Each sub-type of lab handles only a specific type of lab tests. That is, a `PathLab` processes only `PathTest`, `BioChemLab` processes only `BioChemTest` etc.
For now, I have modelled only 2 lab types and test types: `PathLab` and `BioChemLab`, and `PathTest` and `BioChemTest`.

The flow is as follows:
- The `main` plays the role of users/patients.
    - It reads the input, where each line specifies the test needed. For now, we have assumed there is only one kind of test for each type of lab.
    - It sends each test to `Reception` (using `addRequest`)
    - When all input requests are over, it gets the list of bills from `Billing` and prints out the total for the day
    - It then gets the list of all results from `Dispatch` and prints out each result on a separate line
    - It gets the list of tests from each lab and prints out the total tests per lab
- `Reception`:
    - Gets requests.
    - Generates a new ID for each test. These are sequential integers starting at 1 each day
    - Looks at the type (String - either Bio, Path) and creates an instance of an appropriate subtype of the test
    - Sends it to `billing` for the information to be recorded
    - Sends the test (subtype instance) to the appropriate lab 
- `Billing`:
    - Is given tests to be billed
    - Keeps track of the tests that have been billed
- `Dispatch`:
    - Is given tests to be sent to customers
    - Keeps track of tests that have been given to it
- Labs:
    - Each subtype of lab generates its own `TestID` which is a string consisting of “B” or “P”, depending on the BioChem, or Path lab, followed by a unique integer. Each lab starts with integer 1, and increments it for each new test. So, the Pathology IDs would be “P1”, “P2”, etc.

Also, some important assumptions:
- All PathLab tests cost 1000, all BioChem tests cost 400
- PathLab results are the string “benign” or “malignant”.
- BioChem test results have a single number
- PathLab results are “benign”, “benign”, “malignant” for the every consecutive 3 tests, and this pattern repeats
- BioChem results are 100 for the 1st test, 101 for the second test, and so on.

##### Input format:
```
1st line has an integer n, the number of input requests
Next n lines have a single word each - Bio or Path
```

##### Output format:
```
Total billed: nnnnnnn
Reports:
<pid1> <testid1> <result 1>
.... one line for each test
Total tests:
BioChem: mmm
Path: dddd
```

#### How to run:
- `javac main/main.java`
- `java main/main`

##### Sample input:
```
8
Bio
Bio
Path
Path
Path
Bio
Path
Bio
```

##### Sample Output:
```
Total billed: 5600
Reports:
1 B1 100
2 B2 101
3 P1 benign
4 P2 benign
5 P3 malignant
6 B3 102
7 P4 benign
8 B4 103
Total tests:
BioChem: 4
Path: 4
```
